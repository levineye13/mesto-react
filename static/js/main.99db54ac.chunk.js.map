{"version":3,"sources":["images/header__logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","utils/utils.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeleteCardPopup.js","utils/api.js","utils/formValidator.js","utils/constants.js","components/Loader.js","images/profile__avatar.jpg","components/App.js","index.js"],"names":["Header","className","src","headerLogo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onDeleteButtonClick","onCardLike","currentUser","useContext","isOwn","_id","owner","isLiked","likes","some","like","onClick","evt","stopPropagation","link","name","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","avatar","type","about","map","Footer","ImagePopup","onClose","onScreenClickClose","PopupWithForm","memo","props","isOpen","action","id","onSubmit","noValidate","title","children","buttonText","returnAddPlaceMarkup","handleNameChange","handleLinkChange","value","onChange","placeholder","required","maxLength","returnEditAvatarMarkup","inputRef","ref","returnProfileMarkup","description","handleDescriptionChange","minLength","EditProfilePopup","onUpdateUser","useState","setName","setDescription","useEffect","target","preventDefault","EditAvatarPopup","onUpdateAvatar","useRef","resetInputValue","current","AddPlacePopup","setLink","ConfirmDeleteCardPopup","onDeleteCard","api","baseUrl","headers","this","_baseUrl","_headers","responce","ok","json","Error","status","statusText","fetch","method","_checkResponceStatus","data","console","error","Promise","all","getUserInfo","getInitialCards","initialData","allSettled","body","JSON","stringify","cardId","methodHTTP","authorization","validator","config","_config","formElement","inputElement","validationMessage","errorElement","querySelector","textContent","classList","add","errorMessage","remove","validity","valid","_hideInputError","_showInputError","inputList","Array","from","currentInput","submitButton","_hasInvalidInput","setAttribute","buttonInactive","removeAttribute","_handleToggleButtonSubmit","forEach","addEventListener","_handleCheckInputValidity","document","querySelectorAll","formSelector","inputSelector","submitButtonSelector","_setEventListeners","Loader","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isConfirmPopupOpen","setConfirmPopupOpen","selectedCard","setSelectedCard","setCards","removableCard","setRemovableCard","isLoaderActive","setLoaderActive","avatarImg","setCurrentUser","closeAllPopups","handleScreenClickClose","contains","getAllInitialData","then","dataArray","item","dataUser","dataCards","catch","finally","handleEscClickClose","key","removeEventListener","enableValidation","Provider","changeLikeCardStatus","newCard","newCards","currentCard","setUserInfo","userData","updateUserAvatar","addCard","deleteCard","filter","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.99db54ac.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header__logo.c2821b38.svg\";","import React from 'react';\r\nimport headerLogo from './../images/header__logo.svg';\r\n\r\nconst Header = function () {\r\n  return (\r\n    <header className=\"header\">\r\n      <img src={headerLogo} alt=\"Логотип Место\" className=\"header__logo\" />\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport { CurrentUserContext } from './../contexts/CurrentUserContext';\r\n\r\nconst Card = function ({ card, onCardClick, onDeleteButtonClick, onCardLike }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = currentUser._id === card.owner._id;\r\n  const isLiked = card.likes.some((like) => currentUser._id === like._id);\r\n\r\n  const handleClick = function () {\r\n    onCardClick(card);\r\n  };\r\n\r\n  const handleDeleteButtonClick = function () {\r\n    onDeleteButtonClick(card);\r\n  };\r\n\r\n  const handleLikeClick = function () {\r\n    onCardLike(card);\r\n  };\r\n\r\n  return (\r\n    <li className=\"elements__item\" onClick={handleClick}>\r\n      <button\r\n        className={`elements__delete-card ${\r\n          isOwn ? '' : 'elements__delete-card_hidden'\r\n        }`}\r\n        onClick={(evt) => {\r\n          evt.stopPropagation();\r\n          handleDeleteButtonClick();\r\n        }}\r\n      />\r\n      <img src={card.link} alt={card.name} className=\"elements__img\" />\r\n      <div className=\"elements__container\">\r\n        <h2 className=\"elements__title\">{card.name}</h2>\r\n        <div className=\"elements__group\">\r\n          <button\r\n            className={`elements__like-button ${\r\n              isLiked ? 'elements__like-button_active' : ''\r\n            }`}\r\n            onClick={(evt) => {\r\n              evt.stopPropagation();\r\n              handleLikeClick();\r\n            }}\r\n          />\r\n          <span className=\"elements__like-count\">{card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, { useContext } from 'react';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from './../contexts/CurrentUserContext';\r\n\r\nconst Main = function ({\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onEditAvatar,\r\n  onCardClick,\r\n  onDeleteButtonClick,\r\n  cards,\r\n  onCardLike,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile content__profile\">\r\n        <div className=\"profile__avatar-container\">\r\n          <img\r\n            src={currentUser.avatar}\r\n            alt={currentUser.name}\r\n            className=\"profile__avatar\"\r\n          />\r\n          <button\r\n            className=\"profile__update-button\"\r\n            type=\"button\"\r\n            onClick={onEditAvatar}\r\n          />\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n          <button className=\"profile__edit-button\" onClick={onEditProfile} />\r\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__add-button\" onClick={onAddPlace} />\r\n      </section>\r\n      <section className=\"elements content__elements\">\r\n        <ul className=\"elements__list\">\r\n          {cards.map((card) => {\r\n            return (\r\n              <Card\r\n                card={card}\r\n                onCardClick={onCardClick}\r\n                onDeleteButtonClick={onDeleteButtonClick}\r\n                onCardLike={onCardLike}\r\n                key={card._id}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nconst Footer = function () {\r\n  return (\r\n    <footer className=\"footer page__footer\">\r\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nconst ImagePopup = function ({ card, onClose, onScreenClickClose }) {\r\n  return (\r\n    <section\r\n      className={`popup popup_type_image ${card ? 'popup_opened' : ''}`}\r\n      onClick={onScreenClickClose}\r\n    >\r\n      <div className=\"popup__wrapper\">\r\n        <button\r\n          className={card && 'popup__close-button button'}\r\n          onClick={onClose}\r\n        />\r\n        <figure className=\"popup__img-container\">\r\n          <img\r\n            src={card && card.link}\r\n            alt={card && card.name}\r\n            className=\"popup__card-img\"\r\n          />\r\n          <figcaption className=\"popup__title-img\">\r\n            {card && card.name}\r\n          </figcaption>\r\n        </figure>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default ImagePopup;\r\n","import React from 'react';\r\n\r\nconst PopupWithForm = React.memo(function (props) {\r\n  return (\r\n    <section\r\n      className={`popup popup_type_${props.name} ${\r\n        props.isOpen ? 'popup_opened' : ''\r\n      }`}\r\n      onClick={props.onScreenClickClose}\r\n    >\r\n      <div className=\"popup__wrapper\">\r\n        <button\r\n          className=\"popup__close-button button\"\r\n          onClick={props.onClose}\r\n          type=\"button\"\r\n        />\r\n        <form\r\n          action=\"#\"\r\n          id={props.name}\r\n          className=\"popup__form\"\r\n          name={`popup-${props.name}`}\r\n          onSubmit={props.onSubmit}\r\n          noValidate\r\n        >\r\n          <h2 className=\"popup__title\">{props.title}</h2>\r\n          {props.children}\r\n          <button className=\"popup__save-button button\" type=\"submit\">\r\n            {props.buttonText}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n});\r\n\r\nexport default PopupWithForm;\r\n","const returnAddPlaceMarkup = function ({\r\n  name,\r\n  link,\r\n  handleNameChange,\r\n  handleLinkChange,\r\n}) {\r\n  return (\r\n    <fieldset className=\"popup__info\">\r\n      <label className=\"popup__form-field\">\r\n        <input\r\n          value={name}\r\n          onChange={handleNameChange}\r\n          type=\"text\"\r\n          id=\"place-input\"\r\n          className=\"popup__input\"\r\n          name=\"place\"\r\n          placeholder=\"Название\"\r\n          required\r\n          maxLength=\"30\"\r\n        />\r\n        <span className=\"popup__error\" id=\"place-input-error\"></span>\r\n      </label>\r\n      <label className=\"popup__form-field\">\r\n        <input\r\n          value={link}\r\n          onChange={handleLinkChange}\r\n          type=\"url\"\r\n          id=\"link-input\"\r\n          className=\"popup__input\"\r\n          name=\"link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n        />\r\n        <span className=\"popup__error\" id=\"link-input-error\"></span>\r\n      </label>\r\n    </fieldset>\r\n  );\r\n};\r\n\r\nconst returnEditAvatarMarkup = function ({ inputRef }) {\r\n  return (\r\n    <fieldset className=\"popup__info\">\r\n      <label className=\"popup__form-field\">\r\n        <input\r\n          ref={inputRef}\r\n          type=\"url\"\r\n          id=\"link-input\"\r\n          className=\"popup__input\"\r\n          name=\"link\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          required\r\n        />\r\n        <span className=\"popup__error\" id=\"link-input-error\"></span>\r\n      </label>\r\n    </fieldset>\r\n  );\r\n};\r\n\r\nconst returnProfileMarkup = function ({\r\n  name,\r\n  description,\r\n  handleNameChange,\r\n  handleDescriptionChange,\r\n}) {\r\n  return (\r\n    <fieldset className=\"popup__info\">\r\n      <label className=\"popup__form-field\">\r\n        <input\r\n          type=\"text\"\r\n          id=\"name-input\"\r\n          className=\"popup__input\"\r\n          name=\"name\"\r\n          placeholder=\"Имя\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          value={name}\r\n          onChange={handleNameChange}\r\n        />\r\n        <span className=\"popup__error\" id=\"name-input-error\"></span>\r\n      </label>\r\n      <label className=\"popup__form-field\">\r\n        <input\r\n          type=\"text\"\r\n          id=\"job-input\"\r\n          className=\"popup__input\"\r\n          name=\"about\"\r\n          placeholder=\"О себе\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          value={description}\r\n          onChange={handleDescriptionChange}\r\n        />\r\n        <span className=\"popup__error\" id=\"job-input-error\"></span>\r\n      </label>\r\n    </fieldset>\r\n  );\r\n};\r\n\r\nexport { returnAddPlaceMarkup, returnEditAvatarMarkup, returnProfileMarkup };\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from './../contexts/CurrentUserContext';\r\nimport { returnProfileMarkup } from './../utils/utils';\r\n\r\nconst EditProfilePopup = function ({\r\n  isOpen,\r\n  onClose,\r\n  onScreenClickClose,\r\n  onUpdateUser,\r\n}) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [name, setName] = useState(currentUser.name);\r\n  const [description, setDescription] = useState(currentUser.about);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  const handleNameChange = function (evt) {\r\n    setName(evt.target.value);\r\n  };\r\n\r\n  const handleDescriptionChange = function (evt) {\r\n    setDescription(evt.target.value);\r\n  };\r\n\r\n  const handleSubmit = function (evt) {\r\n    evt.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={'Редактировать профиль'}\r\n      name={'profile'}\r\n      buttonText={'Сохранить'}\r\n      children={returnProfileMarkup({\r\n        name,\r\n        description,\r\n        handleNameChange,\r\n        handleDescriptionChange,\r\n      })}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onScreenClickClose={onScreenClickClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n};\r\n\r\nexport default EditProfilePopup;\r\n","import React, { useRef } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { returnEditAvatarMarkup } from './../utils/utils';\r\n\r\nconst EditAvatarPopup = function ({\r\n  isOpen,\r\n  onClose,\r\n  onScreenClickClose,\r\n  onUpdateAvatar,\r\n}) {\r\n  const inputRef = useRef();\r\n\r\n  const resetInputValue = function () {\r\n    inputRef.current.value = '';\r\n  };\r\n\r\n  const handleSubmit = function (evt) {\r\n    evt.preventDefault();\r\n\r\n    onUpdateAvatar({\r\n      avatar: inputRef.current.value,\r\n      resetInputValue,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={'Обновить аватар'}\r\n      name={'update-avatar'}\r\n      buttonText={'Обновить'}\r\n      children={returnEditAvatarMarkup({ inputRef })}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onScreenClickClose={onScreenClickClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n};\r\n\r\nexport default EditAvatarPopup;\r\n","import React, { useState } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { returnAddPlaceMarkup } from './../utils/utils';\r\n\r\nconst AddPlacePopup = function ({\r\n  isOpen,\r\n  onClose,\r\n  onScreenClickClose,\r\n  onAddPlace,\r\n}) {\r\n  const [name, setName] = useState('');\r\n  const [link, setLink] = useState('');\r\n\r\n  const handleNameChange = function (evt) {\r\n    setName(evt.target.value);\r\n  };\r\n\r\n  const handleLinkChange = function (evt) {\r\n    setLink(evt.target.value);\r\n  };\r\n\r\n  const resetInputValue = function () {\r\n    setName('');\r\n    setLink('');\r\n  };\r\n\r\n  const handleSubmit = function (evt) {\r\n    evt.preventDefault();\r\n\r\n    onAddPlace({\r\n      name,\r\n      link,\r\n      resetInputValue,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={'Новое место'}\r\n      name={'add-card'}\r\n      buttonText={'Создать'}\r\n      children={returnAddPlaceMarkup({\r\n        name,\r\n        link,\r\n        handleNameChange,\r\n        handleLinkChange,\r\n      })}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onScreenClickClose={onScreenClickClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n};\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nconst ConfirmDeleteCardPopup = function ({\r\n  isOpen,\r\n  onClose,\r\n  onScreenClickClose,\r\n  onDeleteCard,\r\n  card,\r\n}) {\r\n  const handleSubmit = function (evt) {\r\n    evt.preventDefault();\r\n    onDeleteCard(card);\r\n  };\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title={'Вы уверены?'}\r\n      name={'confirm'}\r\n      buttonText={'Да'}\r\n      children={null}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onScreenClickClose={onScreenClickClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ConfirmDeleteCardPopup;\r\n","class Api {\r\n  constructor(baseUrl, headers) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  /**\r\n   * Метод обработки ответа сервера\r\n   *\r\n   * @param  {Object} responce - объект ответа сервера\r\n   */\r\n  async _checkResponceStatus(responce) {\r\n    if (responce.ok) {\r\n      const json = await responce.json();\r\n      return json;\r\n    }\r\n    throw new Error(`Ошибка: ${responce.status} - ${responce.statusText}`);\r\n  }\r\n\r\n  /**\r\n   * Метод получения информации о пользователе с сервера\r\n   *\r\n   * @return {Object}\r\n   */\r\n  async getUserInfo() {\r\n    try {\r\n      const responce = await fetch(`${this._baseUrl}/users/me`, {\r\n        method: 'GET',\r\n        headers: this._headers,\r\n      });\r\n      //Дожидаемся ответа. Если функция вернет ошибку, выводим ее.\r\n      const data = await this._checkResponceStatus(responce);\r\n      return data;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Метод получения карточек с сервера\r\n   *\r\n   * @return {Object}\r\n   */\r\n  async getInitialCards() {\r\n    try {\r\n      const responce = await fetch(`${this._baseUrl}/cards`, {\r\n        method: 'GET',\r\n        headers: this._headers,\r\n      });\r\n      const data = await this._checkResponceStatus(responce);\r\n      return data;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  async getValidInitialData() {\r\n    const initialData = await Promise.all([\r\n      this.getUserInfo(),\r\n      this.getInitialCards(),\r\n    ]);\r\n    return initialData;\r\n  }\r\n\r\n  async getAllInitialData() {\r\n    const initialData = await Promise.allSettled([\r\n      this.getUserInfo(),\r\n      this.getInitialCards(),\r\n    ]);\r\n    return initialData;\r\n  }\r\n\r\n  async setUserInfo({ name, about }) {\r\n    try {\r\n      const responce = await fetch(`${this._baseUrl}/users/me`, {\r\n        method: 'PATCH',\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          name,\r\n          about,\r\n        }),\r\n      });\r\n      const data = await this._checkResponceStatus(responce);\r\n      return data;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  async addCard({ name, link }) {\r\n    try {\r\n      const responce = await fetch(`${this._baseUrl}/cards`, {\r\n        method: 'POST',\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          name,\r\n          link,\r\n        }),\r\n      });\r\n      const data = await this._checkResponceStatus(responce);\r\n      return data;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  async deleteCard(cardId) {\r\n    try {\r\n      const responce = await fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n        method: 'DELETE',\r\n        headers: this._headers,\r\n      });\r\n      const data = await this._checkResponceStatus(responce);\r\n      return data;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  async changeLikeCardStatus(cardId, methodHTTP) {\r\n    try {\r\n      const responce = await fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n        method: methodHTTP,\r\n        headers: this._headers,\r\n      });\r\n      const data = await this._checkResponceStatus(responce);\r\n      return data;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  async updateUserAvatar(avatar) {\r\n    try {\r\n      const responce = await fetch(`${this._baseUrl}/users/me/avatar`, {\r\n        method: 'PATCH',\r\n        headers: this._headers,\r\n        body: JSON.stringify({\r\n          avatar,\r\n        }),\r\n      });\r\n      const data = await this._checkResponceStatus(responce);\r\n      return data;\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n}\r\n\r\n//Экземпляр Api для осуществления запросов к серверу\r\nexport const api = new Api('https://mesto.nomoreparties.co/v1/cohort-16', {\r\n  authorization: 'f1f27dcb-4c71-4cd5-a34d-2e8f5fd4811e',\r\n  'Content-Type': 'application/json',\r\n});\r\n","import { validatorConfig } from './constants';\r\n\r\nclass formValidator {\r\n  constructor(config) {\r\n    this._config = config;\r\n  }\r\n\r\n  _showInputError(formElement, inputElement, validationMessage) {\r\n    const errorElement = formElement.querySelector(`#${inputElement.id}-error`);\r\n    errorElement.textContent = validationMessage;\r\n    errorElement.classList.add(`${this._config.errorMessage}_visible`);\r\n  }\r\n\r\n  _hideInputError(formElement, inputElement) {\r\n    const errorElement = formElement.querySelector(`#${inputElement.id}-error`);\r\n    errorElement.classList.remove(`${this._config.errorMessage}_visible`);\r\n    errorElement.textContent = '';\r\n  }\r\n\r\n  _handleCheckInputValidity(formElement, inputElement) {\r\n    if (!inputElement.validity.valid) {\r\n      this._showInputError(\r\n        formElement,\r\n        inputElement,\r\n        inputElement.validationMessage\r\n      );\r\n    } else {\r\n      this._hideInputError(formElement, inputElement);\r\n    }\r\n  }\r\n\r\n  _hasInvalidInput(inputList) {\r\n    return Array.from(inputList).some(\r\n      (currentInput) => !currentInput.validity.valid\r\n    );\r\n  }\r\n\r\n  _handleToggleButtonSubmit(inputList, submitButton) {\r\n    if (this._hasInvalidInput(inputList)) {\r\n      submitButton.setAttribute('disabled', '');\r\n      submitButton.classList.add(this._config.buttonInactive);\r\n    } else {\r\n      submitButton.removeAttribute('disabled');\r\n      submitButton.classList.remove(this._config.buttonInactive);\r\n    }\r\n  }\r\n\r\n  _setEventListeners(formElement, inputList, submitButton) {\r\n    this._handleToggleButtonSubmit(inputList, submitButton);\r\n\r\n    inputList.forEach((inputElement) => {\r\n      inputElement.addEventListener('input', () => {\r\n        this._handleCheckInputValidity(formElement, inputElement);\r\n        this._handleToggleButtonSubmit(inputList, submitButton);\r\n      });\r\n    });\r\n  }\r\n\r\n  enableValidation() {\r\n    const formList = document.querySelectorAll(this._config.formSelector);\r\n    formList.forEach((formElement) => {\r\n      const inputList = formElement.querySelectorAll(\r\n        this._config.inputSelector\r\n      );\r\n      const submitButton = formElement.querySelector(\r\n        this._config.submitButtonSelector\r\n      );\r\n\r\n      formElement.addEventListener('submit', (evt) => {\r\n        evt.preventDefault();\r\n        this._handleToggleButtonSubmit(inputList, submitButton);\r\n      });\r\n\r\n      this._setEventListeners(formElement, inputList, submitButton);\r\n    });\r\n  }\r\n}\r\n\r\nconst validator = new formValidator(validatorConfig);\r\n\r\nexport { validator };\r\n","export const validatorConfig = {\r\n  formSelector: '.popup__form',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__save-button',\r\n  errorMessage: 'popup__error',\r\n  buttonInactive: 'button_inactive',\r\n};\r\n","import React from 'react';\r\n\r\nconst Loader = React.memo(function () {\r\n  return <div className=\"animation animation_type_loader\"></div>;\r\n});\r\n\r\nexport default Loader;\r\n","export default __webpack_public_path__ + \"static/media/profile__avatar.74c3c0fb.jpg\";","import React, { useState, useEffect } from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ConfirmDeleteCardPopup from './ConfirmDeleteCardPopup';\r\nimport { api } from './../utils/api';\r\nimport { CurrentUserContext } from './../contexts/CurrentUserContext';\r\nimport { validator } from './../utils/formValidator';\r\nimport Loader from './Loader';\r\nimport avatarImg from './../images/profile__avatar.jpg';\r\n\r\nconst App = function () {\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\r\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = useState(false);\r\n  const [selectedCard, setSelectedCard] = useState(null);\r\n  const [cards, setCards] = useState([]);\r\n  const [removableCard, setRemovableCard] = useState(null);\r\n  const [isLoaderActive, setLoaderActive] = useState(true);\r\n\r\n  //Дефолтная инициализация в случае невыполнения запроса к api.\r\n  const [currentUser, setCurrentUser] = useState({\r\n    avatar: avatarImg,\r\n    name: 'Name',\r\n    about: 'Information about you',\r\n  });\r\n\r\n  /**\r\n   * Обработчик открытия попапа редактирования профиля.\r\n   */\r\n  const handleEditProfileClick = function () {\r\n    setEditProfilePopupOpen(true);\r\n  };\r\n\r\n  /**\r\n   * Обработчик открытия попапа добавления карточки.\r\n   */\r\n  const handleAddPlaceClick = function () {\r\n    setAddPlacePopupOpen(true);\r\n  };\r\n\r\n  /**\r\n   * Обработчик открытия попапа редактирования аватара.\r\n   */\r\n  const handleEditAvatarClick = function () {\r\n    setEditAvatarPopupOpen(true);\r\n  };\r\n\r\n  /**\r\n   * Обработчик закрытия попапов.\r\n   */\r\n  const closeAllPopups = function () {\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setConfirmPopupOpen(false);\r\n    setSelectedCard(null);\r\n  };\r\n\r\n  const handleScreenClickClose = function (evt) {\r\n    if (evt.target.classList.contains('popup')) {\r\n      closeAllPopups();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Обработчик клика по карточке.\r\n   */\r\n  const handleCardClick = function (card) {\r\n    setSelectedCard(card);\r\n  };\r\n\r\n  const handleDeleteButtonClick = function (card) {\r\n    setConfirmPopupOpen(true);\r\n    setRemovableCard(card);\r\n  };\r\n\r\n  const handleUpdateUser = function ({ name, about }) {\r\n    api\r\n      .setUserInfo({ name, about })\r\n      .then((userData) => {\r\n        setCurrentUser(userData);\r\n        closeAllPopups();\r\n      })\r\n      .catch((error) => console.error(error));\r\n  };\r\n\r\n  const handleUpdateAvatar = function ({ avatar, resetInputValue }) {\r\n    api\r\n      .updateUserAvatar(avatar)\r\n      .then((userData) => {\r\n        closeAllPopups();\r\n        setLoaderActive(true);\r\n        setCurrentUser(userData);\r\n      })\r\n      .catch((error) => console.error(error))\r\n      .finally(() => {\r\n        setLoaderActive(false);\r\n        resetInputValue();\r\n      });\r\n  };\r\n\r\n  const handleCardLike = function (card) {\r\n    const isLiked = card.likes.some((like) => currentUser._id === like._id);\r\n\r\n    api\r\n      .changeLikeCardStatus(card._id, isLiked ? 'DELETE' : 'PUT')\r\n      .then((newCard) => {\r\n        const newCards = cards.map((currentCard) =>\r\n          currentCard._id === card._id ? newCard : currentCard\r\n        );\r\n        setCards(newCards);\r\n      })\r\n      .catch((error) => console.error(error));\r\n  };\r\n\r\n  const handleCardDelete = function (card) {\r\n    api\r\n      .deleteCard(card._id)\r\n      .then(() => {\r\n        closeAllPopups();\r\n        setLoaderActive(true);\r\n        const newCards = cards.filter(\r\n          (currentCard) => currentCard._id !== card._id\r\n        );\r\n        setCards(newCards);\r\n      })\r\n      .catch((error) => console.error(error))\r\n      .finally(() => setLoaderActive(false));\r\n  };\r\n\r\n  const handleAddPlaceSubmit = function ({ name, link, resetInputValue }) {\r\n    api\r\n      .addCard({ name, link })\r\n      .then((newCard) => {\r\n        closeAllPopups();\r\n        //TODO не отображается спиннер при удалении/добавлении карточки даже в slow 3g =(\r\n        setLoaderActive(true);\r\n        setCards([newCard, ...cards]);\r\n      })\r\n      .catch((error) => console.error(error))\r\n      .finally(() => {\r\n        setLoaderActive(false);\r\n        resetInputValue();\r\n      });\r\n  };\r\n\r\n  /**\r\n   * Отрисовка первоначальных данных при монтировании компонента.\r\n   * (Promise.allSettled)\r\n   */\r\n  useEffect(() => {\r\n    api\r\n      .getAllInitialData()\r\n      .then((dataArray) => dataArray.map((item) => item.value))\r\n      .then(([dataUser, dataCards]) => {\r\n        if (dataUser) {\r\n          setCurrentUser(dataUser);\r\n        }\r\n        if (dataCards) {\r\n          setCards(dataCards);\r\n        }\r\n      })\r\n      .catch((error) => console.error(error))\r\n      .finally(() => setLoaderActive(false));\r\n  }, []);\r\n\r\n  //Обработчик закрытия попапа по клику на Escape\r\n  useEffect(() => {\r\n    const handleEscClickClose = function (evt) {\r\n      if (evt.key === 'Escape') {\r\n        closeAllPopups();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleEscClickClose);\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', handleEscClickClose);\r\n    };\r\n  }, []);\r\n\r\n  //Включение валидации форм\r\n  useEffect(() => validator.enableValidation(), []);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"App\">\r\n        <div className=\"page\">\r\n          <Header />\r\n          <Main\r\n            onEditProfile={handleEditProfileClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onCardClick={handleCardClick}\r\n            onDeleteButtonClick={handleDeleteButtonClick}\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n          />\r\n          <Footer />\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onScreenClickClose={handleScreenClickClose}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onScreenClickClose={handleScreenClickClose}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onScreenClickClose={handleScreenClickClose}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n          />\r\n          <ConfirmDeleteCardPopup\r\n            isOpen={isConfirmPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onScreenClickClose={handleScreenClickClose}\r\n            onDeleteCard={handleCardDelete}\r\n            card={removableCard}\r\n          />\r\n          <ImagePopup\r\n            card={selectedCard}\r\n            onClose={closeAllPopups}\r\n            onScreenClickClose={handleScreenClickClose}\r\n          />\r\n          {isLoaderActive && <Loader />}\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}